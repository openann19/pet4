import{aa as r,f as t}from"./feature-admin-g8AIjMAb.js";import"./react-vendor-atdIga2R.js";import"./vendor-B2U5onNE.js";import"./utils-vendor-7mYxNw04.js";import"./ui-vendor-CttiZxwU.js";import"./feature-adoption-C919WvgL.js";import"./feature-community-DxZ7YsOF.js";const e=t("ImageUploadAPI");const a=new class{async getSignedUrl(t,a,o){try{const e=new URLSearchParams;e.append("key",t),e.append("contentType",a),o&&e.append("expiresIn",String(o));return(await r.get(`/uploads/images/signed-url?${e.toString()}`)).data}catch(n){const r=n instanceof Error?n:new Error(String(n));throw e.error("Failed to get signed URL",r,{key:t,contentType:a}),r}}async uploadImage(t,a,o){try{const e=btoa(String.fromCharCode(...new Uint8Array(o))),n={key:t,contentType:a,arrayBuffer:o};return(await r.post("/uploads/images",{...n,data:e})).data}catch(n){const r=n instanceof Error?n:new Error(String(n));throw e.error("Failed to upload image",r,{key:t,contentType:a}),r}}};export{a as imageUploadApi};
