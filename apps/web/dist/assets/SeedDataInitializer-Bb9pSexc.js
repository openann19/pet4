import{r as e}from"./react-vendor-atdIga2R.js";import{ap as t,a9 as a,ac as o,ax as s,ay as i,aK as n,E as r,f as d}from"./feature-admin-g8AIjMAb.js";import{g as p}from"./index-BUV2g3LC.js";import"./vendor-B2U5onNE.js";import"./utils-vendor-7mYxNw04.js";import"./ui-vendor-CttiZxwU.js";import"./feature-adoption-C919WvgL.js";import"./feature-community-DxZ7YsOF.js";import"./view-CommunityView.tsx-CD5NUxZ2.js";import"./view-AdoptionView.tsx-BJlxubb2.js";import"./view-ProfileView.tsx-CUP3xfdt.js";import"./feature-stories-DX9BRjll.js";import"./feature-chat-CPR2_-OR.js";import"./view-ChatView.tsx-DI-Ea8ls.js";import"simple-peer";async function h(){var e,o,s,i;const n=await(null==(o=null==(e=window.spark)?void 0:e.kv)?void 0:o.get("community:posts"));if(!n||0===n.length){const e=[{id:a(),_id:a(),authorId:"user-001",authorName:"Sarah Johnson",authorAvatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150",kind:"photo",petIds:["pet-001"],text:'ðŸ¾ Luna had her first training session today and she was amazing! So proud of my little girl. She learned "sit" and "stay" in just one hour. Any tips for teaching "come" next?',media:[{id:"img-001",type:"photo",url:"https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=800",thumbnail:"https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=320"}],tags:["training","puppy","goldenretriever"],visibility:"public",createdAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString(),metrics:{likes:24,comments:5,saves:8,shares:2,impressions:156},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:156,reactionsCount:24,commentsCount:5,sharesCount:2,featured:!1},{id:a(),_id:a(),authorId:"user-002",authorName:"Mike Chen",authorAvatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150",kind:"photo",petIds:["pet-002"],text:"Beach day with Max! ðŸ–ï¸ He discovered that waves are both exciting and scary at the same time ðŸ˜‚ Swipe to see his reaction!",media:[{id:"img-002",type:"photo",url:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=800",thumbnail:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=320"},{id:"img-003",type:"photo",url:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=800",thumbnail:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=320"}],tags:["beach","funday","labradorretriever"],visibility:"public",createdAt:new Date(Date.now()-144e5).toISOString(),updatedAt:new Date(Date.now()-144e5).toISOString(),metrics:{likes:42,comments:8,saves:12,shares:5,impressions:234},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:234,reactionsCount:42,commentsCount:8,sharesCount:5,featured:!1},{id:a(),_id:a(),authorId:"user-003",authorName:"Emma Rodriguez",authorAvatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150",kind:"photo",petIds:["pet-003"],text:"Can we talk about how adorable Milo looks in his new sweater? ðŸ§¶ Winter is coming and he is READY! #fashionpet #cozyvibes",media:[{id:"img-004",type:"photo",url:"https://images.unsplash.com/photo-1530281700549-e82e7bf110d6?w=800",thumbnail:"https://images.unsplash.com/photo-1530281700549-e82e7bf110d6?w=320"}],tags:["fashion","winter","pomeranian"],visibility:"public",createdAt:new Date(Date.now()-216e5).toISOString(),updatedAt:new Date(Date.now()-216e5).toISOString(),metrics:{likes:67,comments:15,saves:23,shares:11,impressions:389},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:389,reactionsCount:67,commentsCount:15,sharesCount:11,featured:!1},{id:a(),_id:a(),authorId:"user-004",authorName:"James Wilson",authorAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150",kind:"photo",petIds:["pet-004"],text:"Bella made a new friend at the dog park today! ðŸ• They played non-stop for an hour. It's so important for puppies to socialize early. Does anyone know of good puppy playgroups in the area?",media:[{id:"img-005",type:"photo",url:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=800",thumbnail:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=320"}],tags:["socialization","dogpark","puppyplaydate"],visibility:"public",location:{lat:37.7749,lon:-122.4194,lng:-122.4194,placeId:"park-001",placeName:"Golden Gate Park"},createdAt:new Date(Date.now()-288e5).toISOString(),updatedAt:new Date(Date.now()-288e5).toISOString(),metrics:{likes:31,comments:12,saves:6,shares:3,impressions:178},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:178,reactionsCount:31,commentsCount:12,sharesCount:3,featured:!1},{id:a(),_id:a(),authorId:"user-005",authorName:"Sofia Martinez",authorAvatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150",kind:"photo",petIds:["pet-005"],text:"â¤ï¸ Celebrating 2 years with my rescue kitty, Oliver! From scared shelter cat to confident couch king. Adoption stories are the best stories. #adoptdontshop",media:[{id:"img-006",type:"photo",url:"https://images.unsplash.com/photo-1574158622682-e40e69881006?w=800",thumbnail:"https://images.unsplash.com/photo-1574158622682-e40e69881006?w=320"},{id:"img-007",type:"photo",url:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=800",thumbnail:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=320"}],tags:["adoptdontshop","rescuecat","anniversary"],visibility:"public",createdAt:new Date(Date.now()-432e5).toISOString(),updatedAt:new Date(Date.now()-432e5).toISOString(),metrics:{likes:89,comments:22,saves:34,shares:18,impressions:512},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:512,reactionsCount:89,commentsCount:22,sharesCount:18,featured:!1},{id:a(),_id:a(),authorId:"user-006",authorName:"Alex Thompson",authorAvatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",kind:"video",petIds:["pet-006"],text:"ðŸŽ¾ Watch Charlie catch his first frisbee! Took us 3 weeks of practice but he finally got it! The slow-mo replay is *chef's kiss* ðŸ˜‚ #frisbeedog #prouddogdad",media:[{id:"vid-001",type:"video",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",thumbnail:"https://images.unsplash.com/photo-1558788353-f76d92427f16?w=800",duration:15,width:1280,height:720}],tags:["frisbee","training","bordercollie","slowmo"],visibility:"public",createdAt:new Date(Date.now()-36e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),metrics:{likes:156,comments:34,saves:67,shares:42,impressions:892},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:892,reactionsCount:156,commentsCount:34,sharesCount:42,featured:!1},{id:a(),_id:a(),authorId:"user-007",authorName:"Rachel Kim",authorAvatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150",kind:"video",petIds:["pet-007"],text:"POV: You just told your husky it's time for a walk ðŸ¤£ The dramatic entrance, the spinning, the HOWLS! Koda is living his best life. Turn on sound! ðŸ”Š",media:[{id:"vid-002",type:"video",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",thumbnail:"https://images.unsplash.com/photo-1568572933382-74d440642117?w=800",duration:22,width:1920,height:1080}],tags:["husky","funny","drama","walktime"],visibility:"public",createdAt:new Date(Date.now()-108e5).toISOString(),updatedAt:new Date(Date.now()-108e5).toISOString(),metrics:{likes:234,comments:56,saves:89,shares:78,impressions:1453},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:1453,reactionsCount:234,commentsCount:56,sharesCount:78,featured:!1},{id:a(),_id:a(),authorId:"user-008",authorName:"David Brown",authorAvatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150",kind:"video",petIds:["pet-008"],text:"ðŸŒŠ First time at the lake and Daisy is a NATURAL swimmer! She went from scared on the shore to full-on doggy paddle in 5 minutes. So proud! ðŸ’™",media:[{id:"vid-003",type:"video",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",thumbnail:"https://images.unsplash.com/photo-1544568104-5b7eb8189dd4?w=800",duration:18,width:1280,height:720}],tags:["swimming","lake","goldenretriever","firsttime"],visibility:"public",location:{lat:34.0522,lon:-118.2437,lng:-118.2437,placeId:"lake-001",placeName:"Lake Tahoe"},createdAt:new Date(Date.now()-18e6).toISOString(),updatedAt:new Date(Date.now()-18e6).toISOString(),metrics:{likes:178,comments:41,saves:52,shares:29,impressions:967},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:967,reactionsCount:178,commentsCount:41,sharesCount:29,featured:!1},{id:a(),_id:a(),authorId:"user-009",authorName:"Jennifer Lee",authorAvatar:"https://images.unsplash.com/photo-1489424731084-a5d8b219a5bb?w=150",kind:"video",petIds:["pet-009"],text:"Zoomies at 3 AM be like... ðŸ˜´ðŸ’¨ Caught Luna on the security cam doing her nightly laps around the house. Why are cats so weird? I love her ðŸ˜‚",media:[{id:"vid-004",type:"video",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",thumbnail:"https://images.unsplash.com/photo-1533738363-b7f9aef128ce?w=800",duration:12,width:1920,height:1080}],tags:["zoomies","catsofinstagram","nightowl","funny"],visibility:"public",createdAt:new Date(Date.now()-252e5).toISOString(),updatedAt:new Date(Date.now()-252e5).toISOString(),metrics:{likes:312,comments:67,saves:124,shares:93,impressions:2341},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:2341,reactionsCount:312,commentsCount:67,sharesCount:93,featured:!1},{id:a(),_id:a(),authorId:"user-010",authorName:"Chris Anderson",authorAvatar:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=150",kind:"video",petIds:["pet-010"],text:'ðŸŽ‰ Teaching Rocky some new tricks! He just learned how to "play dead" and I\'m DECEASED ðŸ’€ Watch till the end for the cutest thing ever! #smartdog #tricks',media:[{id:"vid-005",type:"video",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",thumbnail:"https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?w=800",duration:25,width:1280,height:720}],tags:["tricks","training","germanshepherd","playdead"],visibility:"public",createdAt:new Date(Date.now()-36e6).toISOString(),updatedAt:new Date(Date.now()-36e6).toISOString(),metrics:{likes:267,comments:48,saves:103,shares:61,impressions:1678},status:"active",moderation:{state:"approved",reasons:[]},viewsCount:1678,reactionsCount:267,commentsCount:48,sharesCount:61,featured:!1}];await(null==(i=null==(s=window.spark)?void 0:s.kv)?void 0:i.set("community:posts",e)),t.info("Community seed data initialized",{postsCount:e.length})}}async function l(e=12){const a=s`Generate exactly ${e} diverse pet adoption profiles. 
  
  Return ONLY a valid JSON array of objects, no additional text or explanation.
  
  Each object must have this exact structure:
  {
    "petName": "string (creative pet name)",
    "breed": "string (specific breed)",
    "age": number (1-15),
    "gender": "male" or "female",
    "size": "small" or "medium" or "large" or "extra-large",
    "location": "string (City, State format)",
    "shelterName": "string (realistic shelter name)",
    "description": "string (compelling 2-3 sentence description)",
    "healthStatus": "string (brief health description)",
    "vaccinated": boolean,
    "spayedNeutered": boolean,
    "goodWithKids": boolean,
    "goodWithPets": boolean,
    "energyLevel": "low" or "medium" or "high",
    "specialNeeds": "string or null",
    "adoptionFee": number (50-500),
    "personality": ["string", "string", "string"] (3-5 traits),
    "contactEmail": "string (realistic shelter email)",
    "contactPhone": "string (format: XXX-XXX-XXXX)"
  }

  Make profiles diverse in breeds, ages, sizes, and personalities. Include both dogs and cats.
  Some should be senior pets, puppies/kittens, special needs, etc.`;try{const e=await i.llm(a,"gpt-4o",!0),t=JSON.parse(e);return t.map((e,t)=>({_id:`adopt-${Date.now()}-${t}`,petId:`pet-adopt-${Date.now()}-${t}`,petName:e.petName,petPhoto:`https://picsum.photos/seed/adopt-${Date.now()}-${t}/800/600`,breed:e.breed,age:e.age,gender:e.gender,size:e.size,location:e.location,shelterId:`shelter-${Math.floor(10*Math.random())}`,shelterName:e.shelterName,status:"available",description:e.description,healthStatus:e.healthStatus,vaccinated:e.vaccinated,spayedNeutered:e.spayedNeutered,goodWithKids:e.goodWithKids,goodWithPets:e.goodWithPets,energyLevel:e.energyLevel,...void 0!==e.specialNeeds&&null!==e.specialNeeds&&{specialNeeds:e.specialNeeds},adoptionFee:e.adoptionFee,postedDate:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),personality:e.personality,photos:[`https://picsum.photos/seed/adopt-${Date.now()}-${t}/800/600`,`https://picsum.photos/seed/adopt-${Date.now()}-${t}-2/800/600`,`https://picsum.photos/seed/adopt-${Date.now()}-${t}-3/800/600`],contactEmail:e.contactEmail,contactPhone:e.contactPhone}))}catch(o){const a=n(o),s=o instanceof Error?o:new Error(String(o));return t.error("Failed to generate adoption profiles",s,{technicalMessage:a.technicalMessage,userMessage:a.userMessage,action:"generateAdoptionProfiles",count:e}),t.info("Using fallback profiles",{action:"generateAdoptionProfiles"}),function(){const e=Date.now();return[{_id:`adopt-${e}-1`,petId:`pet-adopt-${e}-1`,petName:"Max",petPhoto:"https://picsum.photos/seed/max-dog/800/600",breed:"Golden Retriever",age:3,gender:"male",size:"large",location:"San Francisco, CA",shelterId:"shelter-1",shelterName:"Happy Paws Rescue",status:"available",description:"Max is a friendly and energetic Golden Retriever who loves playing fetch and going on long walks. He's great with families and other dogs.",healthStatus:"Excellent health, up to date on all shots",vaccinated:!0,spayedNeutered:!0,goodWithKids:!0,goodWithPets:!0,energyLevel:"high",adoptionFee:250,postedDate:new Date(Date.now()-6048e5).toISOString(),personality:["Friendly","Energetic","Loyal","Playful"],photos:["https://picsum.photos/seed/max-dog/800/600","https://picsum.photos/seed/max-dog-2/800/600","https://picsum.photos/seed/max-dog-3/800/600"],contactEmail:"info@happypawsrescue.org",contactPhone:"415-555-0123"},{_id:`adopt-${e}-2`,petId:`pet-adopt-${e}-2`,petName:"Luna",petPhoto:"https://picsum.photos/seed/luna-cat/800/600",breed:"Domestic Shorthair",age:2,gender:"female",size:"small",location:"Portland, OR",shelterId:"shelter-2",shelterName:"Feline Friends Foundation",status:"available",description:"Luna is a sweet and affectionate cat who loves cuddles and sunny windowsills. She's perfect for a quiet home.",healthStatus:"Healthy, all vaccinations current",vaccinated:!0,spayedNeutered:!0,goodWithKids:!0,goodWithPets:!1,energyLevel:"low",adoptionFee:100,postedDate:new Date(Date.now()-12096e5).toISOString(),personality:["Affectionate","Calm","Independent","Quiet"],photos:["https://picsum.photos/seed/luna-cat/800/600","https://picsum.photos/seed/luna-cat-2/800/600"],contactEmail:"adopt@felinefriends.org",contactPhone:"503-555-0456"},{_id:`adopt-${e}-3`,petId:`pet-adopt-${e}-3`,petName:"Buddy",petPhoto:"https://picsum.photos/seed/buddy-dog/800/600",breed:"Beagle Mix",age:5,gender:"male",size:"medium",location:"Seattle, WA",shelterId:"shelter-3",shelterName:"Second Chance Pet Rescue",status:"available",description:"Buddy is a gentle senior dog looking for a calm retirement home. He loves short walks and lots of belly rubs.",healthStatus:"Minor arthritis, manageable with medication",vaccinated:!0,spayedNeutered:!0,goodWithKids:!0,goodWithPets:!0,energyLevel:"low",specialNeeds:"Requires daily arthritis medication",adoptionFee:50,postedDate:new Date(Date.now()-18144e5).toISOString(),personality:["Gentle","Patient","Loving","Calm"],photos:["https://picsum.photos/seed/buddy-dog/800/600","https://picsum.photos/seed/buddy-dog-2/800/600","https://picsum.photos/seed/buddy-dog-3/800/600"],contactEmail:"hello@secondchancepets.org",contactPhone:"206-555-0789"}]}()}}async function c(){try{const e=await o.get("adoption-profiles");if(!e||0===e.length){t.info("Generating adoption profiles",{action:"initializeAdoptionProfiles"});const e=await l(12);await o.set("adoption-profiles",e),t.info("Generated adoption profiles",{profilesCount:e.length,action:"initializeAdoptionProfiles"})}}catch(e){const a=e instanceof Error?e:new Error(String(e));t.error("Failed to initialize adoption profiles",a,{action:"initializeAdoptionProfiles"})}}const m=d("SeedDataInitializer");function u(){const[t,a]=r("all-pets",[]),[o,s]=r("data-initialized",!1),[i,n]=e.useState(!1),d=e.useRef(!1),l=e.useCallback(async()=>{if(!(d.current||o||i))if(d.current=!0,t.length>0)try{await s(!0),await h(),await c()}catch(e){m.error("Failed to mark data as initialized",e instanceof Error?e:new Error(String(e))),d.current=!1}else{n(!0);try{const e=await p(15);await a(e),await h(),await c(),await s(!0)}catch(e){m.error("Failed to initialize sample data",e instanceof Error?e:new Error(String(e))),d.current=!1}finally{n(!1)}}},[o,i,t.length,a,s]);return e.useEffect(()=>{l()},[l]),null}export{u as default};
