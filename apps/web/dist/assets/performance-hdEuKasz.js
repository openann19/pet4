import{f as r}from"./feature-admin-g8AIjMAb.js";import"./react-vendor-atdIga2R.js";import"./vendor-B2U5onNE.js";import"./utils-vendor-7mYxNw04.js";import"./ui-vendor-CttiZxwU.js";import"./feature-adoption-C919WvgL.js";import"./feature-community-DxZ7YsOF.js";const e=r("PerformanceMonitoring"),n={good:2500,poor:4e3},o={good:100,poor:300},t={good:.1,poor:.25},i={good:1800,poor:3e3},f={good:800,poor:1800};function c(r,e){return r<=e.good?"good":r<=e.poor?"needs-improvement":"poor"}function s(r,e,n){return{name:r,value:e,rating:c(e,n),timestamp:Date.now()}}function a(r){if("undefined"!=typeof window&&"PerformanceObserver"in window)try{new PerformanceObserver(e=>{const o=e.getEntries(),t=o[o.length-1];if(t){const e=t.startTime;r(s("LCP",e,n))}}).observe({type:"largest-contentful-paint",buffered:!0})}catch(o){const r=o instanceof Error?o:new Error(String(o));e.error("Error observing LCP",r)}}function p(r){if("undefined"!=typeof window&&"PerformanceObserver"in window)try{new PerformanceObserver(e=>{e.getEntries().forEach(e=>{if("processingStart"in e&&"startTime"in e){const n=e.processingStart-e.startTime;r(s("FID",n,o))}})}).observe({type:"first-input",buffered:!0})}catch(n){const r=n instanceof Error?n:new Error(String(n));e.error("Error observing FID",r)}}function d(r){if("undefined"==typeof window||!("PerformanceObserver"in window))return;let n=0,o=0;const i=[];try{new PerformanceObserver(e=>{e.getEntries().forEach(e=>{const f=e;if("value"in f&&!f.hadRecentInput){const c=f.value;o+=c,i.push(e),o>n&&(n=o,r(s("CLS",n,t)))}})}).observe({type:"layout-shift",buffered:!0})}catch(f){const r=f instanceof Error?f:new Error(String(f));e.error("Error observing CLS",r)}}function u(r){if("undefined"!=typeof window&&"PerformanceObserver"in window)try{new PerformanceObserver(e=>{e.getEntries().forEach(e=>{"first-contentful-paint"===e.name&&r(s("FCP",e.startTime,i))})}).observe({type:"paint",buffered:!0})}catch(n){const r=n instanceof Error?n:new Error(String(n));e.error("Error observing FCP",r)}}function m(r){if("undefined"!=typeof window&&"performance"in window)try{const e=performance.getEntriesByType("navigation")[0];if(e){r(s("TTFB",e.responseStart-e.requestStart,f))}}catch(n){const r=n instanceof Error?n:new Error(String(n));e.error("Error observing TTFB",r)}}function w(r){"undefined"!=typeof window&&(a(r),p(r),d(r),u(r),m(r))}function g(r,n){if("undefined"!=typeof window&&"performance"in window&&"measure"in performance)try{performance.measure(r,{start:0,duration:n})}catch(o){const t=o instanceof Error?o:new Error(String(o));e.error("Error tracking metric",t,{metricName:r,value:n})}}function v(r,e){const n=performance.now(),o=e();return g(r,performance.now()-n),o}async function E(r,e){const n=performance.now(),o=await e();return g(r,performance.now()-n),o}export{w as initPerformanceMonitoring,v as measureExecution,E as measureExecutionAsync,d as observeCLS,u as observeFCP,p as observeFID,a as observeLCP,m as observeTTFB,g as trackMetric};
