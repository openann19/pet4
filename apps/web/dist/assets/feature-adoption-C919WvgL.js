const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/feature-admin-g8AIjMAb.js","assets/react-vendor-atdIga2R.js","assets/vendor-B2U5onNE.js","assets/utils-vendor-7mYxNw04.js","assets/ui-vendor-CttiZxwU.js","assets/feature-community-DxZ7YsOF.js"])))=>i.map(i=>d[i]);
import{j as e,b1 as s,b2 as a,b3 as t,b4 as i,r,a3 as l,ac as n,ah as o,al as d,b5 as c,b6 as h,J as m,b7 as p,am as x,b8 as u,b9 as g,aj as j,aP as v,ai as f,a2 as N,ba as b,aq as y,a_ as w,ap as C,aC as S,at as k,W as P,bb as A,Y as F,aJ as z,a4 as E,ao as D,an as M,ag as W}from"./react-vendor-atdIga2R.js";import{c as L,u as T,a as I,b as R,h as q,A as O,C as B,B as G,d as Y,e as U,f as V,D as _,g as K,i as H,j as $,k as J,L as Q,I as X,T as Z,l as ee,m as se,S as ae,n as te,_ as ie,o as re,P as le,p as ne,M as oe,q as de,r as ce,s as he,t as me,v as pe,w as xe,x as ue,y as ge,z as je,E as ve,F as fe,G as Ne,H as be,J as ye}from"./feature-admin-g8AIjMAb.js";function we({className:a,...t}){return e.jsx(s,{"data-slot":"radio-group",className:L("grid gap-3",a),...t})}function Ce({className:s,...r}){return e.jsx(a,{"data-slot":"radio-group-item",className:L("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:e.jsx(t,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(i,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Se=r.memo(function({profile:s,onSelect:a,onFavorite:t,isFavorited:i}){var c,h,m,p,x,u,g,j,v,f,N,b;const{t:y}=T(),w=I({translateY:-4,stiffness:400,damping:25}),C=R({hoverScale:1.1,tapScale:.95,onPress:()=>{q.trigger("light"),null==t||t(s._id)}}),S=r.useCallback(()=>{q.trigger("selection"),a(s)},[a,s]),k={available:(null==(c=y.adoption)?void 0:c.available)??"Available",pending:(null==(h=y.adoption)?void 0:h.pending)??"Pending",adopted:(null==(m=y.adoption)?void 0:m.adopted)??"Adopted","on-hold":(null==(p=y.adoption)?void 0:p.onHold)??"On Hold"};return e.jsx(O,{style:w.animatedStyle,onMouseEnter:w.handleEnter,onMouseLeave:w.handleLeave,children:e.jsxs(B,{className:"overflow-hidden cursor-pointer group border-border/50 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden bg-muted",onClick:S,children:[e.jsx("img",{src:s.petPhoto,alt:s.petName,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 right-3 flex items-start justify-between gap-2",children:[e.jsx(G,{className:`${{available:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20",pending:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-500/20",adopted:"bg-gray-500/10 text-gray-700 dark:text-gray-400 border-gray-500/20","on-hold":"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/20"}[s.status]} border backdrop-blur-sm`,children:k[s.status]}),t&&e.jsx(O,{style:C.animatedStyle,onMouseEnter:C.handleMouseEnter,onMouseLeave:C.handleMouseLeave,onClick:e=>{e.stopPropagation(),C.handlePress()},className:"w-9 h-9 rounded-full bg-white/90 dark:bg-black/90 backdrop-blur-sm flex items-center justify-center shadow-lg cursor-pointer",children:e.jsx(l,{size:20,weight:i?"fill":"regular",className:i?"text-destructive":"text-foreground"})})]}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[e.jsx("h3",{className:"text-xl font-bold text-white drop-shadow-lg mb-1",children:s.petName}),e.jsxs("div",{className:"flex items-center gap-2 text-white/90 text-sm",children:[e.jsx(n,{size:14,weight:"fill"}),e.jsx("span",{className:"drop-shadow",children:s.location})]})]})]}),e.jsxs("div",{className:"p-4 space-y-3",onClick:S,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:s.breed}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.age," ",1===s.age?(null==(x=y.common)?void 0:x.year_singular)??"year":(null==(u=y.common)?void 0:u.years)??"years"]}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"capitalize",children:s.gender})]}),e.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[s.vaccinated&&e.jsxs(G,{variant:"secondary",className:"text-xs gap-1",children:[e.jsx(o,{size:12,weight:"fill"}),(null==(g=y.adoption)?void 0:g.vaccinated)??"Vaccinated"]}),s.spayedNeutered&&e.jsxs(G,{variant:"secondary",className:"text-xs gap-1",children:[e.jsx(o,{size:12,weight:"fill"}),(null==(j=y.adoption)?void 0:j.spayedNeutered)??"Spayed/Neutered"]}),s.goodWithKids&&e.jsx(G,{variant:"secondary",className:"text-xs",children:(null==(v=y.adoption)?void 0:v.goodWithKids)??"Good with kids"}),s.goodWithPets&&e.jsx(G,{variant:"secondary",className:"text-xs",children:(null==(f=y.adoption)?void 0:f.goodWithPets)??"Good with pets"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[(null==(N=y.adoption)?void 0:N.adoptionFee)??"Adoption Fee",":"]}),e.jsxs("span",{className:"font-bold text-foreground ml-1",children:["$",s.adoptionFee]})]}),e.jsxs(Y,{size:"sm",className:"gap-1.5",onClick:e=>{e.stopPropagation(),q.trigger("success"),a(s)},children:[e.jsx(d,{size:16,weight:"fill"}),(null==(b=y.adoption)?void 0:b.viewDetails)??"View Details"]})]})]})]})})},(e,s)=>e.profile._id===s.profile._id&&e.profile.status===s.profile.status&&e.profile.petPhoto===s.profile.petPhoto&&e.profile.petName===s.profile.petName&&e.profile.location===s.profile.location&&e.profile.description===s.profile.description&&e.profile.adoptionFee===s.profile.adoptionFee&&e.isFavorited===s.isFavorited&&e.onSelect===s.onSelect&&e.onFavorite===s.onFavorite);function ke({className:s,...a}){return e.jsx(c,{"data-slot":"checkbox",className:L("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=checked]:shadow-md focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive aria-invalid:animate-pulse size-4 shrink-0 rounded-[4px] border bg-background shadow-xs transition-all duration-200 outline-none focus-visible:ring-[3px] hover:border-ring/50 hover:shadow-md active:scale-95 disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted/30",s),...a,children:e.jsx(h,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-all duration-200 data-[state=checked]:scale-100 data-[state=unchecked]:scale-0",children:e.jsx(m,{className:"size-3.5"})})})}const Pe=V("AdoptionService"),Ae={async getAdoptionProfiles(e){try{return await U.getAdoptionProfiles(e)}catch(s){return Pe.error("Failed to get adoption profiles",s instanceof Error?s:new Error(String(s)),{filters:e}),{profiles:[],hasMore:!1}}},async getProfileById(e){try{return await U.getProfileById(e)}catch(s){return Pe.error("Failed to get profile by ID",s instanceof Error?s:new Error(String(s)),{id:e}),null}},async getAllProfiles(){try{return(await U.getAdoptionProfiles({limit:1e3})).profiles}catch(e){return Pe.error("Failed to get all profiles",e instanceof Error?e:new Error(String(e))),[]}},async submitApplication(e){try{return await U.submitApplication(e)}catch(s){throw Pe.error("Failed to submit application",s instanceof Error?s:new Error(String(s)),{adoptionProfileId:e.adoptionProfileId}),s}},async getUserApplications(e){try{return await U.getUserApplications(e)}catch(s){return Pe.error("Failed to get user applications",s instanceof Error?s:new Error(String(s)),{userId:e}),[]}},async getShelters(){try{return await U.getShelters()}catch(e){return Pe.error("Failed to get shelters",e instanceof Error?e:new Error(String(e))),[]}},async createAdoptionProfile(e){try{return await U.createAdoptionProfile(e)}catch(s){throw Pe.error("Failed to create adoption profile",s instanceof Error?s:new Error(String(s))),s}},async updateProfileStatus(e,s){try{await U.updateProfileStatus(e,s)}catch(a){throw Pe.error("Failed to update profile status",a instanceof Error?a:new Error(String(a)),{profileId:e,status:s}),a}},async getAllApplications(){try{return await U.getAllApplications()}catch(e){return Pe.error("Failed to get all applications",e instanceof Error?e:new Error(String(e))),[]}},async updateApplicationStatus(e,s,a){try{await U.updateApplicationStatus(e,{status:s,...void 0!==a&&{reviewNotes:a}})}catch(t){throw Pe.error("Failed to update application status",t instanceof Error?t:new Error(String(t)),{applicationId:e,status:s}),t}},async getApplicationsByProfile(e){try{return await U.getApplicationsByProfile(e)}catch(s){return Pe.error("Failed to get applications by profile",s instanceof Error?s:new Error(String(s)),{profileId:e}),[]}}},Fe=V("AdoptionApplicationDialog");function ze(){const s=ee({enabled:!0,duration:1e3,repeat:!0});return e.jsx(O,{style:s.rotationStyle,className:"inline-block",children:e.jsx(p,{size:18})})}function Ee({profile:s,open:a,onOpenChange:t,onSubmitSuccess:i}){var l,n,o,d,c,h,m,u,g,j,v,f,N,b,y,w,C,S,k,P,A,F,z,E,D;const{t:M}=T(),[W,L]=r.useState(!1),[I,R]=r.useState({applicantName:"",applicantEmail:"",applicantPhone:"",householdType:"house",hasYard:!1,hasOtherPets:!1,otherPetsDetails:"",hasChildren:!1,childrenAges:"",experience:"",reason:""});return e.jsx(_,{open:a,onOpenChange:t,children:e.jsxs(K,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(H,{children:[e.jsxs($,{className:"text-2xl",children:[(null==(l=M.adoption)?void 0:l.applyToAdopt)??"Apply to Adopt"," ",s.petName]}),e.jsx(J,{children:(null==(n=M.adoption)?void 0:n.applicationDesc)??"Fill out this application to express your interest in adopting. The shelter will review and contact you."})]}),e.jsxs("form",{onSubmit:e=>{(async e=>{var a,t,r,l;if(e.preventDefault(),!I.applicantName||!I.applicantEmail||!I.reason)return x.error((null==(a=M.adoption)?void 0:a.fillRequired)??"Please fill in all required fields"),void q.trigger("error");try{L(!0),q.trigger("light");const e=await spark.user();await Ae.submitApplication({adoptionProfileId:s._id,applicantId:e.id,...I}),q.trigger("success"),x.success((null==(t=M.adoption)?void 0:t.applicationSubmitted)??"Application Submitted!",{description:(null==(r=M.adoption)?void 0:r.applicationSubmittedDesc)??"The shelter will review your application and contact you soon."}),R({applicantName:"",applicantEmail:"",applicantPhone:"",householdType:"house",hasYard:!1,hasOtherPets:!1,otherPetsDetails:"",hasChildren:!1,childrenAges:"",experience:"",reason:""}),i()}catch(n){Fe.error("Failed to submit application",n instanceof Error?n:new Error(String(n))),q.trigger("error"),x.error((null==(l=M.adoption)?void 0:l.applicationFailed)??"Failed to submit application. Please try again.")}finally{L(!1)}})(e)},className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:(null==(o=M.adoption)?void 0:o.contactInfo)??"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"name",children:[(null==(d=M.adoption)?void 0:d.fullName)??"Full Name"," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(X,{id:"name",value:I.applicantName,onChange:e=>R({...I,applicantName:e.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"email",children:[(null==(c=M.adoption)?void 0:c.email)??"Email"," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(X,{id:"email",type:"email",value:I.applicantEmail,onChange:e=>R({...I,applicantEmail:e.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"phone",children:(null==(h=M.adoption)?void 0:h.phone)??"Phone Number"}),e.jsx(X,{id:"phone",type:"tel",value:I.applicantPhone,onChange:e=>R({...I,applicantPhone:e.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:(null==(m=M.adoption)?void 0:m.householdInfo)??"Household Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{children:(null==(u=M.adoption)?void 0:u.householdType)??"Household Type"}),e.jsxs(we,{value:I.householdType,onValueChange:e=>R({...I,householdType:e}),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{value:"house",id:"house"}),e.jsx(Q,{htmlFor:"house",className:"font-normal cursor-pointer",children:(null==(g=M.adoption)?void 0:g.house)??"House"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{value:"apartment",id:"apartment"}),e.jsx(Q,{htmlFor:"apartment",className:"font-normal cursor-pointer",children:(null==(j=M.adoption)?void 0:j.apartment)??"Apartment"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{value:"condo",id:"condo"}),e.jsx(Q,{htmlFor:"condo",className:"font-normal cursor-pointer",children:(null==(v=M.adoption)?void 0:v.condo)??"Condo"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{value:"other",id:"other"}),e.jsx(Q,{htmlFor:"other",className:"font-normal cursor-pointer",children:(null==(f=M.adoption)?void 0:f.other)??"Other"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"yard",checked:I.hasYard,onCheckedChange:e=>R({...I,hasYard:e})}),e.jsx(Q,{htmlFor:"yard",className:"font-normal cursor-pointer",children:(null==(N=M.adoption)?void 0:N.hasYard)??"I have a yard"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"other-pets",checked:I.hasOtherPets,onCheckedChange:e=>R({...I,hasOtherPets:e})}),e.jsx(Q,{htmlFor:"other-pets",className:"font-normal cursor-pointer",children:(null==(b=M.adoption)?void 0:b.hasOtherPets)??"I have other pets"})]}),I.hasOtherPets&&e.jsx(X,{placeholder:(null==(y=M.adoption)?void 0:y.describeOtherPets)??"Describe your other pets...",value:I.otherPetsDetails,onChange:e=>R({...I,otherPetsDetails:e.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"children",checked:I.hasChildren,onCheckedChange:e=>R({...I,hasChildren:e})}),e.jsx(Q,{htmlFor:"children",className:"font-normal cursor-pointer",children:(null==(w=M.adoption)?void 0:w.hasChildren)??"I have children"})]}),I.hasChildren&&e.jsx(X,{placeholder:(null==(C=M.adoption)?void 0:C.childrenAges)??"Ages of children...",value:I.childrenAges,onChange:e=>R({...I,childrenAges:e.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:(null==(S=M.adoption)?void 0:S.additionalInfo)??"Additional Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"experience",children:(null==(k=M.adoption)?void 0:k.petExperience)??"Pet ownership experience"}),e.jsx(Z,{id:"experience",placeholder:(null==(P=M.adoption)?void 0:P.experiencePlaceholder)??"Tell us about your experience with pets...",value:I.experience,onChange:e=>R({...I,experience:e.target.value}),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"reason",children:[(null==(A=M.adoption)?void 0:A.whyAdopt)??"Why do you want to adopt this pet?"," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(Z,{id:"reason",placeholder:(null==(F=M.adoption)?void 0:F.reasonPlaceholder)??"Tell us why you want to adopt...",value:I.reason,onChange:e=>R({...I,reason:e.target.value}),rows:4,required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Y,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1",disabled:W,children:(null==(z=M.common)?void 0:z.cancel)??"Cancel"}),e.jsx(Y,{type:"submit",className:"flex-1 gap-2",disabled:W,children:W?e.jsxs(e.Fragment,{children:[e.jsx(ze,{}),(null==(E=M.common)?void 0:E.submitting)??"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{size:18,weight:"fill"}),(null==(D=M.adoption)?void 0:D.submitApplication)??"Submit Application"]})})]})]})]})})}function De({profile:s,open:a,onOpenChange:t}){var i,c,h,m,p,x,S,k,P,A,F,z,E,D,M,W,L,I,B,U,V,J,Q,X,Z,ee;const{t:te}=T(),[ie,re]=r.useState(0),[le,ne]=r.useState(!1),oe=se({isVisible:!0,enterTransition:"fade",exitTransition:"fade"}),de=R({hoverScale:1.1,tapScale:.95}),ce=R({hoverScale:1.1,tapScale:.95});if(!s)return null;const he=s.photos&&s.photos.length>0?s.photos:[s.petPhoto];return e.jsxs(e.Fragment,{children:[e.jsx(_,{open:a,onOpenChange:t,children:e.jsxs(K,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-0",children:[e.jsxs("div",{className:"relative h-80 bg-muted",children:[oe.shouldRender&&e.jsx(O,{style:oe.animatedStyle,children:e.jsx("img",{src:he[ie],alt:`${s.petName} - Photo ${ie+1}`,className:"w-full h-full object-cover"})},ie),he.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(O,{style:de.animatedStyle,onMouseEnter:de.handleMouseEnter,onMouseLeave:de.handleMouseLeave,onClick:()=>{de.handlePress(),q.trigger("selection"),re(e=>(e-1+he.length)%he.length)},children:e.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 dark:bg-black/90 backdrop-blur-sm flex items-center justify-center shadow-lg",children:e.jsx(u,{size:20,weight:"bold"})})}),e.jsx(O,{style:ce.animatedStyle,onMouseEnter:ce.handleMouseEnter,onMouseLeave:ce.handleMouseLeave,onClick:()=>{ce.handlePress(),q.trigger("selection"),re(e=>(e+1)%he.length)},children:e.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 dark:bg-black/90 backdrop-blur-sm flex items-center justify-center shadow-lg",children:e.jsx(g,{size:20,weight:"bold"})})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:he.map((s,a)=>e.jsx("button",{onClick:()=>{q.trigger("selection"),re(a)},className:"w-2 h-2 rounded-full transition-all "+(a===ie?"bg-white w-6":"bg-white/50")},a))})]}),e.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-transparent"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(H,{children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($,{className:"text-3xl font-bold mb-2",children:s.petName}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(n,{size:16,weight:"fill"}),e.jsx("span",{children:s.location})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:["$",s.adoptionFee]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:(null==(i=te.adoption)?void 0:i.adoptionFee)||"Adoption Fee"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[e.jsx(j,{size:24,className:"mx-auto mb-1 text-primary"}),e.jsxs("div",{className:"text-sm font-semibold",children:[s.age," ",1===s.age?(null==(c=te.common)?void 0:c.year_singular)||"year":(null==(h=te.common)?void 0:h.years)||"years"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(null==(m=te.adoption)?void 0:m.age)||"Age"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[e.jsx(d,{size:24,className:"mx-auto mb-1 text-accent"}),e.jsx("div",{className:"text-sm font-semibold capitalize",children:s.size}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(null==(p=te.adoption)?void 0:p.size)||"Size"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[e.jsx(v,{size:24,className:"mx-auto mb-1 text-secondary"}),e.jsx("div",{className:"text-sm font-semibold capitalize",children:s.energyLevel}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(null==(x=te.adoption)?void 0:x.energy)||"Energy"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[e.jsx(l,{size:24,className:"mx-auto mb-1 text-destructive",weight:"fill"}),e.jsx("div",{className:"text-sm font-semibold capitalize",children:s.gender}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(null==(S=te.adoption)?void 0:S.gender)||"Gender"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3",children:[(null==(k=te.adoption)?void 0:k.about)||"About"," ",s.petName]}),e.jsx("p",{className:"text-foreground leading-relaxed",children:s.description})]}),e.jsx(ae,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:(null==(P=te.adoption)?void 0:P.details)||"Details"}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(s.vaccinated?"bg-green-500/10":"bg-gray-500/10"),children:s.vaccinated?e.jsx(o,{size:20,className:"text-green-600 dark:text-green-400",weight:"fill"}):e.jsx(f,{size:20,className:"text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:(null==(A=te.adoption)?void 0:A.vaccinated)||"Vaccinated"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.vaccinated?(null==(F=te.adoption)?void 0:F.yes)||"Yes":(null==(z=te.adoption)?void 0:z.no)||"No"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(s.spayedNeutered?"bg-green-500/10":"bg-gray-500/10"),children:s.spayedNeutered?e.jsx(o,{size:20,className:"text-green-600 dark:text-green-400",weight:"fill"}):e.jsx(f,{size:20,className:"text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:(null==(E=te.adoption)?void 0:E.spayedNeutered)||"Spayed/Neutered"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.spayedNeutered?(null==(D=te.adoption)?void 0:D.yes)||"Yes":(null==(M=te.adoption)?void 0:M.no)||"No"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(s.goodWithKids?"bg-green-500/10":"bg-gray-500/10"),children:e.jsx(N,{size:20,className:s.goodWithKids?"text-green-600 dark:text-green-400":"text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:(null==(W=te.adoption)?void 0:W.goodWithKids)||"Good with Kids"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.goodWithKids?(null==(L=te.adoption)?void 0:L.yes)||"Yes":(null==(I=te.adoption)?void 0:I.no)||"No"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(s.goodWithPets?"bg-green-500/10":"bg-gray-500/10"),children:e.jsx(d,{size:20,className:s.goodWithPets?"text-green-600 dark:text-green-400":"text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:(null==(B=te.adoption)?void 0:B.goodWithPets)||"Good with Pets"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.goodWithPets?(null==(U=te.adoption)?void 0:U.yes)||"Yes":(null==(V=te.adoption)?void 0:V.no)||"No"})]})]})]})]}),s.personality&&Array.isArray(s.personality)&&s.personality.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:(null==(J=te.adoption)?void 0:J.personality)||"Personality"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.personality.map((s,a)=>e.jsx(G,{variant:"secondary",className:"text-sm",children:s},a))})]})]}),s.specialNeeds&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(b,{size:20,className:"text-accent"}),(null==(Q=te.adoption)?void 0:Q.specialNeeds)||"Special Needs"]}),e.jsx("p",{className:"text-foreground",children:s.specialNeeds})]})]}),e.jsx(ae,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(y,{size:20,className:"text-primary"}),(null==(X=te.adoption)?void 0:X.shelter)||"Shelter Information"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium text-lg",children:s.shelterName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(n,{size:16}),e.jsx("span",{children:s.location})]}),e.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[s.contactEmail&&e.jsxs("a",{href:`mailto:${s.contactEmail}`,className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[e.jsx(w,{size:16}),s.contactEmail]}),s.contactPhone&&e.jsxs("a",{href:`tel:${s.contactPhone}`,className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[e.jsx(C,{size:16}),s.contactPhone]})]})]})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsxs(Y,{size:"lg",className:"flex-1",onClick:()=>{q.trigger("success"),ne(!0)},disabled:"available"!==s.status,children:[e.jsx(l,{size:20,weight:"fill",className:"mr-2"}),"available"===s.status?(null==(Z=te.adoption)?void 0:Z.applyToAdopt)||"Apply to Adopt":(null==(ee=te.adoption)?void 0:ee.notAvailable)||"Not Available"]})})]})]})}),e.jsx(Ee,{profile:s,open:le,onOpenChange:ne,onSubmitSuccess:()=>{ne(!1),t(!1)}})]})}const Me=r.memo(function({listing:s,onSelect:a,onFavorite:t,isFavorited:i}){var r,o,c,h,m;const{t:p}=T(),{petName:x,petBreed:u,petAge:g,petGender:j,petSize:v,petPhotos:f,location:N,fee:b,vaccinated:y,spayedNeutered:w,status:C}=s,P=R({hoverScale:1.1,tapScale:.95});return e.jsx("div",{className:"hover:-translate-y-1 transition-transform",children:e.jsxs(B,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300 border-border/50",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-muted",onClick:()=>{q.trigger("selection"),a(s)},children:[e.jsx("img",{src:f[0]||"/placeholder-pet.jpg",alt:x,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"}),"pending_review"===C&&e.jsx(G,{className:"absolute top-3 right-3 bg-yellow-500/90 text-white backdrop-blur-sm",children:(null==(r=p.adoption)?void 0:r.pendingReview)||"Pending Review"}),t&&e.jsx(O,{style:P.animatedStyle,onMouseEnter:P.handleMouseEnter,onMouseLeave:P.handleMouseLeave,onClick:e=>{e.stopPropagation(),P.handlePress(),q.trigger("light"),t(s.id)},children:e.jsx("button",{type:"button",className:"absolute top-3 left-3 w-9 h-9 rounded-full bg-white/90 dark:bg-black/90 backdrop-blur-sm flex items-center justify-center shadow-lg",children:e.jsx(l,{size:20,weight:i?"fill":"regular",className:i?"text-destructive":"text-foreground"})})}),b&&b.amount>0&&e.jsxs(G,{className:"absolute bottom-3 left-3 bg-primary/90 text-white backdrop-blur-sm",children:[e.jsx(S,{size:16,weight:"bold"}),b&&0!==b.amount?`${b.currency} ${b.amount.toLocaleString()}`:"Free"]}),(!b||0===b.amount)&&e.jsx(G,{className:"absolute bottom-3 left-3 bg-green-500/90 text-white backdrop-blur-sm",children:(null==(o=p.adoption)?void 0:o.noFee)||"Free"})]}),e.jsxs(te,{className:"p-5 space-y-3",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{onClick:()=>{q.trigger("selection"),a(s)},className:"cursor-pointer flex-1",children:[e.jsx("h3",{className:"text-xl font-bold leading-tight",children:x}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[u," • ",g," ",1===g?(null==(c=p.common)?void 0:c.year_singular)||"year":(null==(h=p.common)?void 0:h.years)||"years"]})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(n,{size:16,weight:"fill"}),e.jsxs("span",{children:[N.city,", ",N.country]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[y&&e.jsxs(G,{variant:"secondary",className:"text-xs gap-1",children:[e.jsx(k,{size:14,weight:"bold"}),"Vaccinated"]}),w&&e.jsxs(G,{variant:"secondary",className:"text-xs gap-1",children:[e.jsx(k,{size:14,weight:"bold"}),"Spayed/Neutered"]}),e.jsx(G,{variant:"outline",className:"text-xs",children:"male"===j?"Male":"Female"}),e.jsx(G,{variant:"outline",className:"text-xs capitalize",children:v})]}),s.temperament&&s.temperament.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[s.temperament.slice(0,2).map(s=>e.jsx(G,{variant:"outline",className:"text-xs",children:s},s)),s.temperament.length>2&&e.jsxs(G,{variant:"outline",className:"text-xs text-muted-foreground",children:["+",s.temperament.length-2," more"]})]}),s.petDescription&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.petDescription}),e.jsxs(Y,{size:"sm",className:"w-full gap-1.5 mt-2",onClick:e=>{e.stopPropagation(),q.trigger("success"),a(s)},children:[e.jsx(d,{size:16,weight:"fill"}),(null==(m=p.adoption)?void 0:m.viewDetails)||"View Details"]})]})]})})},(e,s)=>e.listing.id===s.listing.id&&e.listing.status===s.listing.status&&e.isFavorited===s.isFavorited),We=V("AdoptionListingDetailDialog");function Le({listing:s,open:a,onOpenChange:t,onApplicationSubmitted:i}){const[d,c]=r.useState(0),[h,m]=r.useState(!1),[j,v]=r.useState(!1),[f,N]=r.useState({message:"",homeType:"house",hasYard:!1,yardFenced:!1,hasChildren:!1,childrenAges:"",hasOtherPets:!1,otherPetsDetails:"",previousPetExperience:"",employmentStatus:"employed",hoursAlonePerDay:0,homeCheckConsent:!1,veterinarianReference:"",personalReferences:""}),b=se({isVisible:!0,enterTransition:"fade",exitTransition:"fade"}),y=R({hoverScale:1.1,tapScale:.95}),w=R({hoverScale:1.1,tapScale:.95}),C=se({isVisible:h,enterTransition:"slideUp",exitTransition:"fade"});if(!s)return null;const S=s.petPhotos&&s.petPhotos.length>0?s.petPhotos:["/placeholder-pet.jpg"];return e.jsx(_,{open:a,onOpenChange:t,children:e.jsxs(K,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-0",children:[e.jsxs("div",{className:"relative h-80 bg-muted",children:[b.shouldRender&&e.jsx(O,{style:b.animatedStyle,children:e.jsx("img",{src:S[d],alt:`${s.petName} - Photo ${d+1}`,className:"w-full h-full object-cover"})},d),S.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(O,{style:y.animatedStyle,onMouseEnter:y.handleMouseEnter,onMouseLeave:y.handleMouseLeave,onClick:()=>{y.handlePress(),q.trigger("selection"),c(e=>(e-1+S.length)%S.length)},children:e.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 dark:bg-black/90 backdrop-blur-sm flex items-center justify-center shadow-lg z-10",children:e.jsx(u,{size:20,weight:"bold"})})}),e.jsx(O,{style:w.animatedStyle,onMouseEnter:w.handleMouseEnter,onMouseLeave:w.handleMouseLeave,onClick:()=>{w.handlePress(),q.trigger("selection"),c(e=>(e+1)%S.length)},children:e.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 dark:bg-black/90 backdrop-blur-sm flex items-center justify-center shadow-lg z-10",children:e.jsx(g,{size:20,weight:"bold"})})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:S.map((s,a)=>e.jsx("button",{onClick:()=>c(a),className:"w-2 h-2 rounded-full transition-all "+(a===d?"bg-white w-6":"bg-white/50 hover:bg-white/75")},a))})]}),e.jsxs("div",{className:"absolute top-4 right-4 z-10",children:["active"===s.status&&e.jsx(G,{className:"bg-green-500/90 text-white backdrop-blur-sm",children:"Available"}),"pending_review"===s.status&&e.jsx(G,{className:"bg-yellow-500/90 text-white backdrop-blur-sm",children:"Pending Review"})]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(H,{children:e.jsx($,{className:"text-2xl",children:s.petName})}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-muted-foreground",children:[e.jsx(n,{size:16,weight:"fill"}),e.jsxs("span",{children:[s.location.city,", ",s.location.country]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Breed"}),e.jsx("p",{className:"font-semibold",children:s.petBreed})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Age"}),e.jsxs("p",{className:"font-semibold",children:[s.petAge," ",1===s.petAge?"year":"years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Gender"}),e.jsx("p",{className:"font-semibold capitalize",children:s.petGender})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Size"}),e.jsx("p",{className:"font-semibold capitalize",children:s.petSize})]})]}),e.jsx(ae,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"About"}),e.jsx("p",{className:"text-muted-foreground",children:s.petDescription})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.vaccinated&&e.jsxs(G,{variant:"secondary",className:"gap-1",children:[e.jsx(o,{size:14,weight:"fill"}),"Vaccinated"]}),s.spayedNeutered&&e.jsxs(G,{variant:"secondary",className:"gap-1",children:[e.jsx(o,{size:14,weight:"fill"}),"Spayed/Neutered"]}),s.microchipped&&e.jsxs(G,{variant:"secondary",className:"gap-1",children:[e.jsx(o,{size:14,weight:"fill"}),"Microchipped"]}),s.goodWithKids&&e.jsx(G,{variant:"secondary",children:"Good with kids"}),s.goodWithPets&&e.jsx(G,{variant:"secondary",children:"Good with pets"})]}),s.requirements&&s.requirements.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Requirements"}),e.jsx("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:s.requirements.map((s,a)=>e.jsx("li",{children:s},a))})]}),s.fee&&s.fee.amount>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Adoption Fee"}),e.jsxs("p",{className:"text-xl font-bold",children:[s.fee.currency," ",s.fee.amount.toLocaleString()]})]}),"active"===s.status&&e.jsx("div",{className:"flex gap-2",children:e.jsxs(Y,{onClick:()=>m(!0),className:"flex-1 gap-2",size:"lg",children:[e.jsx(l,{size:20,weight:"fill"}),"Apply to Adopt"]})}),C.shouldRender&&h&&e.jsxs(O,{style:C.animatedStyle,className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Apply to Adopt"}),e.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>m(!1),children:e.jsx(P,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{children:"Message"}),e.jsx(Z,{placeholder:"Tell the owner why you want to adopt...",value:f.message,onChange:e=>N({...f,message:e.target.value}),rows:4})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"homeCheckConsent",checked:f.homeCheckConsent,onCheckedChange:e=>N({...f,homeCheckConsent:!0===e})}),e.jsx(Q,{htmlFor:"homeCheckConsent",className:"text-sm",children:"I consent to a home visit"})]}),e.jsxs(Y,{onClick:()=>{(async()=>{if(!f.message||!f.homeCheckConsent)return x.error("Please fill in all required fields"),void q.trigger("error");try{v(!0),q.trigger("light");const{userService:e}=await ie(async()=>{const{userService:e}=await import("./feature-admin-g8AIjMAb.js").then(e=>e.ba);return{userService:e}},__vite__mapDeps([0,1,2,3,4,5])),a=await e.user();if(!a)return x.error("Authentication required"),q.trigger("error"),void v(!1);await re.createApplication({listingId:s.id,applicantId:String(a.id),applicantName:a.login||"Anonymous",applicantEmail:a.email||"",message:f.message,homeType:f.homeType,hasYard:f.hasYard,yardFenced:f.yardFenced,hasChildren:f.hasChildren,childrenAges:f.childrenAges,hasOtherPets:f.hasOtherPets,otherPetsDetails:f.otherPetsDetails,previousPetExperience:f.previousPetExperience,employmentStatus:f.employmentStatus,hoursAlonePerDay:f.hoursAlonePerDay,homeCheckConsent:f.homeCheckConsent,veterinarianReference:f.veterinarianReference,personalReferences:f.personalReferences?f.personalReferences.split(",").map(e=>e.trim()):[]}),q.trigger("success"),x.success("Application submitted successfully!",{description:"The owner will review your application and contact you."}),m(!1),N({message:"",homeType:"house",hasYard:!1,yardFenced:!1,hasChildren:!1,childrenAges:"",hasOtherPets:!1,otherPetsDetails:"",previousPetExperience:"",employmentStatus:"employed",hoursAlonePerDay:0,homeCheckConsent:!1,veterinarianReference:"",personalReferences:""}),i()}catch(e){const s=e instanceof Error?e.message:void 0;We.error("Failed to submit application",e instanceof Error?e:new Error(String(e))),q.trigger("error"),x.error(s||"Failed to submit application. Please try again.")}finally{v(!1)}})()},disabled:j||!f.message||!f.homeCheckConsent,className:"w-full gap-2",children:[e.jsx(p,{size:20,weight:"fill"}),j?"Submitting...":"Submit Application"]})]})]})]})]})})}const Te=V("CreateAdoptionListingWizard"),Ie=[{id:"basic",label:"Basic Info",description:"Pet details"},{id:"details",label:"Personality",description:"Temperament & behavior"},{id:"health",label:"Health",description:"Medical records"},{id:"requirements",label:"Requirements",description:"Adoption criteria"},{id:"location",label:"Location",description:"Where to meet"},{id:"review",label:"Review",description:"Confirm & submit"}],Re=["Friendly","Playful","Calm","Energetic","Affectionate","Independent","Loyal","Gentle","Curious","Protective","Social","Shy"],qe=["Fenced yard required","No small children","No other pets","Experience with breed required","Active lifestyle required","Home check required","References required","Indoor only","Regular grooming commitment","Special diet needs"];function Oe({onClose:s,onSuccess:a}){var t,i,l,o,d,c,h;const[m,p]=r.useState("basic"),[u,g]=r.useState(!1),[j,v]=r.useState({petPhotos:[],requirements:[],temperament:[],vetDocuments:[],vaccinated:!1,spayedNeutered:!1,microchipped:!1,goodWithKids:!0,goodWithPets:!0,energyLevel:"medium",locationCountry:"USA"}),f=Ie.findIndex(e=>e.id===m),N=(f+1)/Ie.length*100,b=(e,s)=>{v(a=>({...a,[e]:s}))},y=(e,s)=>{v(a=>{const t=a[e]||[],i=t.includes(s)?t.filter(e=>e!==s):[...t,s];return{...a,[e]:i}})},w=()=>{var e;switch(m){case"basic":return j.petName&&j.petBreed&&j.petAge&&j.petGender&&j.petSize&&j.petSpecies;case"details":return j.petDescription&&((null==(e=j.temperament)?void 0:e.length)||0)>0;case"health":case"review":return!0;case"requirements":return j.reasonForAdoption;case"location":return j.locationCity&&j.locationCountry;default:return!1}};return e.jsx("div",{className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-lg overflow-auto",children:e.jsxs("div",{className:"container max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Create Adoption Listing"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Step ",f+1," of ",Ie.length,":"," ",f>=0&&f<Ie.length?(null==(t=Ie[f])?void 0:t.description)??"":""]})]}),e.jsx(Y,{variant:"ghost",size:"icon",onClick:s,"aria-label":"Close adoption listing wizard",children:e.jsx(P,{size:24})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx(le,{value:N,className:"h-2 mb-4"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Ie.map((s,a)=>e.jsxs("button",{onClick:()=>p(s.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition-all whitespace-nowrap "+(m===s.id?"border-primary bg-primary/10 text-primary":a<f?"border-green-500/50 bg-green-500/5 text-green-600 dark:text-green-400":"border-border bg-card hover:border-primary/50"),children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold "+(a<f?"bg-green-500 text-white":m===s.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:a<f?e.jsx(k,{size:14,weight:"bold"}):a+1}),e.jsx("span",{className:"text-sm font-medium",children:s.label})]},s.id))})]}),e.jsx(ne,{visible:!0,children:e.jsx(oe,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:e.jsxs(B,{children:[e.jsxs(de,{children:[e.jsx(ce,{children:f>=0&&f<Ie.length?(null==(i=Ie[f])?void 0:i.label)??"":""}),e.jsx(he,{children:f>=0&&f<Ie.length?(null==(l=Ie[f])?void 0:l.description)??"":""})]}),e.jsxs(te,{className:"space-y-6",children:["basic"===m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petName",children:"Pet Name *"}),e.jsx(X,{id:"petName",value:j.petName||"",onChange:e=>b("petName",e.target.value),placeholder:"e.g., Max"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petSpecies",children:"Species *"}),e.jsxs(me,{value:j.petSpecies||"",onValueChange:e=>b("petSpecies",e),children:[e.jsx(pe,{children:e.jsx(xe,{placeholder:"Select species"})}),e.jsxs(ue,{children:[e.jsx(ge,{value:"dog",children:"Dog"}),e.jsx(ge,{value:"cat",children:"Cat"}),e.jsx(ge,{value:"bird",children:"Bird"}),e.jsx(ge,{value:"rabbit",children:"Rabbit"}),e.jsx(ge,{value:"fish",children:"Fish"}),e.jsx(ge,{value:"reptile",children:"Reptile"}),e.jsx(ge,{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petBreed",children:"Breed *"}),e.jsx(X,{id:"petBreed",value:j.petBreed||"",onChange:e=>b("petBreed",e.target.value),placeholder:"e.g., Golden Retriever"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petAge",children:"Age (years) *"}),e.jsx(X,{id:"petAge",type:"number",min:"0",max:"30",value:j.petAge||"",onChange:e=>b("petAge",parseInt(e.target.value)||0),placeholder:"3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petGender",children:"Gender *"}),e.jsxs(me,{value:j.petGender||"",onValueChange:e=>b("petGender",e),children:[e.jsx(pe,{children:e.jsx(xe,{placeholder:"Select"})}),e.jsxs(ue,{children:[e.jsx(ge,{value:"male",children:"Male"}),e.jsx(ge,{value:"female",children:"Female"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petSize",children:"Size *"}),e.jsxs(me,{value:j.petSize||"",onValueChange:e=>b("petSize",e),children:[e.jsx(pe,{children:e.jsx(xe,{placeholder:"Select size"})}),e.jsxs(ue,{children:[e.jsx(ge,{value:"tiny",children:"Tiny (0-5 lbs)"}),e.jsx(ge,{value:"small",children:"Small (6-20 lbs)"}),e.jsx(ge,{value:"medium",children:"Medium (21-50 lbs)"}),e.jsx(ge,{value:"large",children:"Large (51-100 lbs)"}),e.jsx(ge,{value:"extra-large",children:"Extra Large (100+ lbs)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petColor",children:"Color"}),e.jsx(X,{id:"petColor",value:j.petColor||"",onChange:e=>b("petColor",e.target.value),placeholder:"e.g., Golden"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petPhotos",children:"Photos"}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[e.jsx(A,{size:32,className:"mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click or drag photos here"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Up to 6 photos, max 5MB each"})]})]})]}),"details"===m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"petDescription",children:"Description *"}),e.jsx(Z,{id:"petDescription",value:j.petDescription||"",onChange:e=>b("petDescription",e.target.value),placeholder:"Tell us about this pet's personality, habits, and what makes them special...",rows:6}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==(o=j.petDescription)?void 0:o.length)||0," characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{children:"Temperament * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:Re.map(s=>{var a;return e.jsx("button",{type:"button",onClick:()=>y("temperament",s),className:"px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all "+((null==(a=j.temperament)?void 0:a.includes(s))?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"),children:s},s)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"energyLevel",children:"Energy Level *"}),e.jsxs(me,{value:j.energyLevel||"medium",onValueChange:e=>b("energyLevel",e),children:[e.jsx(pe,{children:e.jsx(xe,{placeholder:"Select energy level"})}),e.jsxs(ue,{children:[e.jsx(ge,{value:"low",children:"Low - Prefers calm activities"}),e.jsx(ge,{value:"medium",children:"Medium - Balanced activity"}),e.jsx(ge,{value:"high",children:"High - Very active"}),e.jsx(ge,{value:"very-high",children:"Very High - Needs constant activity"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{children:"Good With:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"goodWithKids",...void 0!==j.goodWithKids?{checked:j.goodWithKids}:{},onCheckedChange:e=>b("goodWithKids",!!e)}),e.jsx(Q,{htmlFor:"goodWithKids",className:"cursor-pointer",children:"Children"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"goodWithPets",...void 0!==j.goodWithPets?{checked:j.goodWithPets}:{},onCheckedChange:e=>b("goodWithPets",!!e)}),e.jsx(Q,{htmlFor:"goodWithPets",className:"cursor-pointer",children:"Other Pets"})]}),"dog"===j.petSpecies&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[e.jsx(ke,{id:"goodWithDogs",...void 0!==j.goodWithDogs?{checked:j.goodWithDogs}:{},onCheckedChange:e=>b("goodWithDogs",!!e)}),e.jsx(Q,{htmlFor:"goodWithDogs",className:"cursor-pointer",children:"Specifically good with dogs"})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[e.jsx(ke,{id:"goodWithCats",...void 0!==j.goodWithCats?{checked:j.goodWithCats}:{},onCheckedChange:e=>b("goodWithCats",!!e)}),e.jsx(Q,{htmlFor:"goodWithCats",className:"cursor-pointer",children:"Specifically good with cats"})]})]})]})]})]}),"health"===m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{children:"Health Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"vaccinated",...void 0!==j.vaccinated?{checked:j.vaccinated}:{},onCheckedChange:e=>b("vaccinated",!!e)}),e.jsx(Q,{htmlFor:"vaccinated",className:"cursor-pointer",children:"Up-to-date on vaccinations"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"spayedNeutered",...void 0!==j.spayedNeutered?{checked:j.spayedNeutered}:{},onCheckedChange:e=>b("spayedNeutered",!!e)}),e.jsx(Q,{htmlFor:"spayedNeutered",className:"cursor-pointer",children:"Spayed/Neutered"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"microchipped",...void 0!==j.microchipped?{checked:j.microchipped}:{},onCheckedChange:e=>b("microchipped",!!e)}),e.jsx(Q,{htmlFor:"microchipped",className:"cursor-pointer",children:"Microchipped"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"specialNeeds",children:"Special Needs (if any)"}),e.jsx(Z,{id:"specialNeeds",value:j.specialNeeds||"",onChange:e=>b("specialNeeds",e.target.value),placeholder:"Any medical conditions, dietary restrictions, or special care requirements...",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{children:"Veterinary Documents"}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[e.jsx(A,{size:28,className:"mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload vaccination records, medical documents"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PDF, JPG, or PNG - Max 10MB"})]})]})]}),"requirements"===m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"reasonForAdoption",children:"Reason for Adoption *"}),e.jsx(Z,{id:"reasonForAdoption",value:j.reasonForAdoption||"",onChange:e=>b("reasonForAdoption",e.target.value),placeholder:"Why are you putting this pet up for adoption?",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{children:"Adoption Requirements (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:qe.map(s=>{var a;return e.jsx("button",{type:"button",onClick:()=>y("requirements",s),className:"px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all text-left "+((null==(a=j.requirements)?void 0:a.includes(s))?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"),children:s},s)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"adoptionFee",children:"Adoption Fee (Optional)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{id:"adoptionFee",type:"number",min:"0",value:(null==(d=j.fee)?void 0:d.amount)||"",onChange:e=>{var s;return b("fee",{amount:parseFloat(e.target.value)||0,currency:(null==(s=j.fee)?void 0:s.currency)||"USD"})},placeholder:"0",className:"flex-1"}),e.jsxs(me,{value:(null==(c=j.fee)?void 0:c.currency)||"USD",onValueChange:e=>{var s;return b("fee",{amount:(null==(s=j.fee)?void 0:s.amount)||0,currency:e})},children:[e.jsx(pe,{className:"w-24",children:e.jsx(xe,{})}),e.jsxs(ue,{children:[e.jsx(ge,{value:"USD",children:"USD"}),e.jsx(ge,{value:"EUR",children:"EUR"}),e.jsx(ge,{value:"GBP",children:"GBP"}),e.jsx(ge,{value:"CAD",children:"CAD"})]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional adoption fee to cover medical costs. Leave at 0 for free adoption."})]})]}),"location"===m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"locationCity",children:"City *"}),e.jsx(X,{id:"locationCity",value:j.locationCity||"",onChange:e=>b("locationCity",e.target.value),placeholder:"e.g., San Francisco"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"locationCountry",children:"Country *"}),e.jsx(X,{id:"locationCountry",value:j.locationCountry||"",onChange:e=>b("locationCountry",e.target.value),placeholder:"e.g., USA"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{children:"Precise Location (Optional)"}),e.jsxs("div",{className:"border-2 border-border rounded-lg p-6 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(n,{size:24,className:"text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Pin Your Location"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your exact address won't be shared publicly"})]})]}),e.jsxs(Y,{variant:"outline",className:"w-full",children:[e.jsx(n,{size:16,className:"mr-2"}),"Set Location on Map"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Only city will be shown publicly. Exact location shared after application approval."})]})]}),"review"===m&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted/30 rounded-lg p-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Review Your Listing"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Pet Name"}),e.jsx("p",{className:"font-medium",children:j.petName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Species"}),e.jsx("p",{className:"font-medium capitalize",children:j.petSpecies})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Breed"}),e.jsx("p",{className:"font-medium",children:j.petBreed})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Age"}),e.jsxs("p",{className:"font-medium",children:[j.petAge," years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Size"}),e.jsx("p",{className:"font-medium capitalize",children:j.petSize})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Gender"}),e.jsx("p",{className:"font-medium capitalize",children:j.petGender})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Temperament"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:null==(h=j.temperament)?void 0:h.map(s=>e.jsx(G,{variant:"secondary",children:s},s))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Health Status"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.vaccinated&&e.jsx(G,{variant:"outline",children:"Vaccinated"}),j.spayedNeutered&&e.jsx(G,{variant:"outline",children:"Spayed/Neutered"}),j.microchipped&&e.jsx(G,{variant:"outline",children:"Microchipped"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Location"}),e.jsxs("p",{className:"font-medium",children:[j.locationCity,", ",j.locationCountry]})]}),j.fee&&j.fee.amount>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Adoption Fee"}),e.jsxs("p",{className:"font-medium",children:[j.fee.currency," ",j.fee.amount]})]})]}),e.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(k,{size:16,className:"text-primary mt-0.5 shrink-0"}),e.jsx("span",{children:"Your listing will be reviewed by our team (usually within 24 hours)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(k,{size:16,className:"text-primary mt-0.5 shrink-0"}),e.jsx("span",{children:"Once approved, it will be visible to potential adopters"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(k,{size:16,className:"text-primary mt-0.5 shrink-0"}),e.jsx("span",{children:"You'll receive applications and can choose the best match"})]})]})]})]})]})]})},m)}),e.jsxs("div",{className:"flex items-center justify-between mt-6 sticky bottom-0 bg-background pt-4 pb-4 border-t border-border",children:[e.jsxs(Y,{variant:"outline",onClick:()=>{if(f>0){const e=Ie[f-1];e&&p(e.id)}},disabled:0===f||u,children:[e.jsx(F,{size:16,className:"mr-2"}),"Back"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Y,{variant:"ghost",onClick:s,disabled:u,children:"Cancel"}),f<Ie.length-1?e.jsxs(Y,{onClick:()=>{if(f<Ie.length-1){const e=Ie[f+1];e&&p(e.id)}},disabled:!w()||u,children:["Next",e.jsx(z,{size:16,className:"ml-2"})]}):e.jsx(Y,{onClick:()=>{(async()=>{try{if(g(!0),!(j.petName&&j.petBreed&&j.petAge&&j.petGender&&j.petSize&&j.petSpecies&&j.petDescription&&j.locationCity&&j.reasonForAdoption))return void x.error("Please fill in all required fields");const e=await je.user();if(!e)throw new Error("User context unavailable");await re.createListing({...j,ownerId:e.id,ownerName:e.displayName??e.login??"Guest User"}),x.success("Adoption listing submitted for review!"),a(),s()}catch(e){Te.error("Failed to create listing",e instanceof Error?e:new Error(String(e))),x.error("Failed to create listing. Please try again.")}finally{g(!1)}})().catch(e=>{const s=e instanceof Error?e:new Error(String(e));Te.error("Failed to submit adoption listing from button",s)})},disabled:!w()||u,children:u?"Submitting...":"Submit for Review"})]})]})]})})}function Be({open:s,onOpenChange:a,onSuccess:t}){return s?e.jsx(Oe,{onClose:()=>a(!1),onSuccess:()=>{t(),a(!1)}}):null}const Ge=V("MyApplicationsView");function Ye({onBack:s}){const[a,t]=r.useState([]),[i]=ve("adoption-profiles",[]),[l,n]=r.useState(!0);r.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const e=await spark.user(),s=(await Ae.getUserApplications(e.id)).map(e=>{const s=(i||[]).find(s=>s._id===e.adoptionProfileId),a={...e};return s&&(a.profile=s),a});t(s.sort((e,s)=>new Date(s.submittedAt).getTime()-new Date(e.submittedAt).getTime()))}catch(e){Ge.error("Failed to load applications",e instanceof Error?e:new Error(String(e)))}finally{n(!1)}},h=e=>{switch(e){case"pending":return"bg-amber-500/10 text-amber-600 border-amber-500/20";case"approved":return"bg-green-500/10 text-green-600 border-green-500/20";case"rejected":return"bg-red-500/10 text-red-600 border-red-500/20";case"withdrawn":return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},m=s=>{switch(s){case"pending":return e.jsx(W,{size:16,weight:"fill"});case"approved":return e.jsx(o,{size:16,weight:"fill"});case"rejected":return e.jsx(f,{size:16,weight:"fill"});case"withdrawn":return e.jsx(M,{size:16,weight:"fill"})}},p=e=>{switch(e){case"pending":return"Your application is being reviewed by the shelter. You should hear back soon.";case"approved":return"Congratulations! Your application has been approved. The shelter will contact you to arrange the adoption.";case"rejected":return"Unfortunately, your application was not approved at this time. Please consider applying for other pets.";case"withdrawn":return"This application has been withdrawn."}};return l?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:e.jsx(E,{size:48,className:"text-primary",weight:"fill"})}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your applications..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Y,{variant:"ghost",size:"icon",onClick:s,className:"rounded-full",children:e.jsx(F,{size:20,weight:"bold"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"My Applications"}),e.jsx("p",{className:"text-muted-foreground",children:"Track the status of your adoption applications"})]})]}),0===a.length?e.jsx(B,{children:e.jsxs(te,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(E,{size:64,className:"text-muted-foreground mb-4",weight:"thin"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Applications Yet"}),e.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:"You haven't submitted any adoption applications yet. Browse available pets and apply to adopt your perfect companion!"}),e.jsx(Y,{onClick:s,className:"mt-6",children:"Browse Pets"})]})}):e.jsx(fe,{className:"h-[calc(100vh-250px)]",children:e.jsx("div",{className:"space-y-4 pr-4",children:a.map((s,a)=>{var t,i,r,l,n,o,c;return e.jsx(oe,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:e.jsxs(B,{className:"overflow-hidden "+("approved"===s.status?"border-green-500/30 shadow-lg shadow-green-500/5":"pending"===s.status?"border-amber-500/30 shadow-lg shadow-amber-500/5":""),children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(Ne,{className:"h-20 w-20 border-2 border-primary/20",children:[(null==(t=s.profile)?void 0:t.petPhoto)?e.jsx(be,{src:s.profile.petPhoto,alt:s.profile.petName}):null,e.jsx(ye,{children:e.jsx(d,{size:32,weight:"fill"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-2xl",children:(null==(i=s.profile)?void 0:i.petName)||"Unknown Pet"}),e.jsxs(he,{children:[null==(r=s.profile)?void 0:r.breed," • ",null==(l=s.profile)?void 0:l.age," years old"]})]}),e.jsxs(G,{variant:"secondary",className:h(s.status),children:[m(s.status),e.jsx("span",{className:"ml-1 capitalize",children:s.status})]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted on"," ",new Date(s.submittedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]})]})}),e.jsxs(te,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border "+("approved"===s.status?"bg-green-500/5 border-green-500/20":"pending"===s.status?"bg-amber-500/5 border-amber-500/20":"rejected"===s.status?"bg-red-500/5 border-red-500/20":"bg-muted/30 border-border"),children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Status Update"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:p(s.status)})]}),s.reviewNotes&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Notes from the Shelter"}),e.jsx("p",{className:"text-sm text-muted-foreground bg-muted/30 p-3 rounded-lg",children:s.reviewNotes})]})]}),e.jsx(ae,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Your Information"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{size:14,className:"text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:s.applicantEmail})]}),s.applicantPhone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{size:14,className:"text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:s.applicantPhone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{size:14,className:"text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground capitalize",children:[s.householdType,s.hasYard&&" • Has Yard"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Shelter Contact"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[(null==(n=s.profile)?void 0:n.shelterName)&&e.jsx("p",{className:"font-medium",children:s.profile.shelterName}),(null==(o=s.profile)?void 0:o.contactEmail)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{size:14,className:"text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:s.profile.contactEmail})]}),(null==(c=s.profile)?void 0:c.contactPhone)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{size:14,className:"text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:s.profile.contactPhone})]})]})]})]})]})]})},s._id)})})})]})}export{Se as A,Be as C,Ye as M,we as R,Ce as a,Me as b,Le as c,De as d,ke as e};
